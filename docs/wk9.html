<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Gavin Rolls">
<meta name="dcterms.date" content="2024-03-19">

<title>Gavin Rolls - Learning Diary for CASA 0023 - 9&nbsp; Synthetic Aperture Radar</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./wk8.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./wk9.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Synthetic Aperture Radar</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Gavin Rolls - Learning Diary for CASA 0023</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hello!</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wk1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to Remote Sensing</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wk2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Xaringan Presentation - VIIRS</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wk3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Image Correction &amp; Data Joining</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wk4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Remote Sensing for Urban Policy</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wk5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Week Off</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wk6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Introduction to Earth Engine</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wk7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Classification of Remotely Sensed Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wk8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Advanced Classification and Accuracy Assesment</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wk9.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Synthetic Aperture Radar</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#summary" id="toc-summary" class="nav-link active" data-scroll-target="#summary"><span class="header-section-number">9.1</span> Summary</a>
  <ul class="collapse">
  <li><a href="#sar-is-an-active-sensor" id="toc-sar-is-an-active-sensor" class="nav-link" data-scroll-target="#sar-is-an-active-sensor"><span class="header-section-number">9.1.1</span> SAR is an Active Sensor</a></li>
  <li><a href="#data-captured-by-sar" id="toc-data-captured-by-sar" class="nav-link" data-scroll-target="#data-captured-by-sar"><span class="header-section-number">9.1.2</span> Data Captured by SAR</a></li>
  </ul></li>
  <li><a href="#applications-in-research" id="toc-applications-in-research" class="nav-link" data-scroll-target="#applications-in-research"><span class="header-section-number">9.2</span> <strong>Applications in Research</strong></a></li>
  <li><a href="#reflection" id="toc-reflection" class="nav-link" data-scroll-target="#reflection"><span class="header-section-number">9.3</span> Reflection</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references"><span class="header-section-number">9.4</span> References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Synthetic Aperture Radar</span></h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Gavin Rolls </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">March 19, 2024</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="summary" class="level2" data-number="9.1">
<h2 data-number="9.1" class="anchored" data-anchor-id="summary"><span class="header-section-number">9.1</span> Summary</h2>
<p>In a departure from nearly every other type of remotely sensed imagery we’ve covered in this course, we spent our last week speaking about Synthetic Aperture Radar, better known as SAR. I’ll briefly discuss what makes SAR so unique compared to the other sensors we’ve discussed before chatting about some of the key use cases for the technology.</p>
<section id="sar-is-an-active-sensor" class="level3" data-number="9.1.1">
<h3 data-number="9.1.1" class="anchored" data-anchor-id="sar-is-an-active-sensor"><span class="header-section-number">9.1.1</span> SAR is an Active Sensor</h3>
<p>In the very first week of class, I briefly touched on the difference between active and passive sensors in the <a href="https://grolls23.github.io/LearningDiary/wk1.html#active-versus-passive-sensors">first entry</a> of this learning diary. Whereas every sensor we’ve discussed so far has been a passive sensor, which simply detects radiation reflected off the Earth’s surface, SAR is an active sensor which emits radiation at a very specific wavelength and measures reflections of its own radiation off the surface <span class="citation" data-cites="earthsciencedatasystems2020">(<a href="#ref-earthsciencedatasystems2020" role="doc-biblioref">Earth Science Data Systems 2020</a>)</span>. These wavelengths fall into the microwave portion of the electromagnetic spectrum, and are longer than visible and infrared light. They are measured on the order of centimetres instead of millimetres or nanometres. This gives SAR sensors the unique ability to detect ground-level phenomena through clouds.</p>
<p>At such large wavelengths, the size of the radar antenna, which you could call the aperture, relative to the wavelength becomes an important constraint. The swath of land being detected on earth by a single pulse, perhaps kilometres in width, is recorded in extremely low resolution <span class="citation" data-cites="nasaGetKnowSARn.d">(<a href="#ref-nasaGetKnowSARn.d" role="doc-biblioref"><strong>nasaGetKnowSARn.d?</strong></a>)</span>.</p>
<p>To overcome this limitation, SAR uses a ‘synthetic aperture’ that is substantially longer than the metres-long antenna capable of being mounted on the satellite itself. It manages to do this by using its trajectory through space to ‘synthesise’ a much larger antenna. Because the satellite captures an area of multiple kilometres with each pulse, it can detect a single point on earth with a number of different pulses taken from different points along its orbit, a sort of composite image of each point can be generated to massively improve the effective resolution <span class="citation" data-cites="nasaGetKnowSARn.d">(<a href="#ref-nasaGetKnowSARn.d" role="doc-biblioref"><strong>nasaGetKnowSARn.d?</strong></a>)</span>.</p>
</section>
<section id="data-captured-by-sar" class="level3" data-number="9.1.2">
<h3 data-number="9.1.2" class="anchored" data-anchor-id="data-captured-by-sar"><span class="header-section-number">9.1.2</span> Data Captured by SAR</h3>
<p>SAR data is less straightforward to interpret than traditional optical data, because SAR signals have a number of different properties which provide information about ground conditions. I will detail these below</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/GalapagosSAR.jpeg" class="img-fluid figure-img" width="800"></p>
<figcaption class="figure-caption">The Galapagos Islands, as captured by a SAR sensor (with wavelengths between 2.4 and 7.5cm) on Space Shuttle Endeavour - <span class="citation" data-cites="nasaGetKnowSARn.d">(<a href="#ref-nasaGetKnowSARn.d" role="doc-biblioref"><strong>nasaGetKnowSARn.d?</strong></a>)</span>.</figcaption>
</figure>
</div>
<p>The primary information returned by a SAR signal, analogous to radiometric intensity in a passive optical sensor, is known as backscatter, or amplitude. This is a simple measure of how much of the radar pulse which the SAR sensor sent to earth was returned back to the satellite. This information is valuable to users because different types of surfaces reflect (or fail to reflect) radar pulses to different extents. For instance, flat surfaces like still water tend to scatter radar signals back into space but away from the satellite (and thus the sensor). For that reason, still water will appear as having very low backscatter <span class="citation" data-cites="clemente-colón2000">(<a href="#ref-clemente-colón2000" role="doc-biblioref">Clemente-Colón and Yan 2000</a>)</span>. Conversely, rough surfaces like bare land will scatter the signal in all directions, including back toward the satellite in question <span class="citation" data-cites="clemente-colón2000">(<a href="#ref-clemente-colón2000" role="doc-biblioref">Clemente-Colón and Yan 2000</a>)</span>. Buildings often return a substantial amount of the radar pulse back to the sensor through a characteristic ‘double bounce’, wherein the signal is scattered off of the building’s surface, onto the ground, and then back into space in the direction from which it came.</p>
<p>Uniquely to SAR, radar signals also exist in different polarizations, which refer to the orientation of the wave as it travels relative to the surface being imaged <span class="citation" data-cites="alaskasatellitefacility">(<a href="#ref-alaskasatellitefacility" role="doc-biblioref">Alaska Satellite Facility, n.d.</a>)</span>. Signals can be emit or received in one of two orientations - horizontally or vertically relative to the surface being imaged. Some sensors emit or receive signals in a single orientation (single-pol), whereas others are able to emit and capture both polarizations (dual-pol) <span class="citation" data-cites="alaskasatellitefacility">(<a href="#ref-alaskasatellitefacility" role="doc-biblioref">Alaska Satellite Facility, n.d.</a>)</span>. Crucially, different types of surfaces are sensitive to different signal polarizations <span class="citation" data-cites="earthsciencedatasystems2020">(<a href="#ref-earthsciencedatasystems2020" role="doc-biblioref">Earth Science Data Systems 2020</a>)</span>. For instance, rough surfaces best scatter VV signals (meaning the signal was transmitted and received vertically), whereas vegetation best scatters signals in the opposite polarization transmitted (VH or HV).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/DifferentPolarizations.jpeg" class="img-fluid figure-img" width="800"></p>
<figcaption class="figure-caption">Different patterns generated by different combinations of transmission and reception signal polarizations - <span class="citation" data-cites="nasaGetKnowSARn.d">(<a href="#ref-nasaGetKnowSARn.d" role="doc-biblioref"><strong>nasaGetKnowSARn.d?</strong></a>)</span>.</figcaption>
</figure>
</div>
<p>Finally, SAR signals also contain information about their phase. As a signal wave travels, its phase shifts from peak to trough with each wavelength travelled. This information is important because the part of phase at which the signal is returned to the sensor gives us some information about the distance from the sensor to the point being measured <span class="citation" data-cites="earthsciencedatasystems2020">(<a href="#ref-earthsciencedatasystems2020" role="doc-biblioref">Earth Science Data Systems 2020</a>)</span>. Although its difficult to use this information to generate insights into absolute distance, repeat observations from a particular ground point, which are likely to change only on the order of centimetres or less, can be used to track relative changes in topography. One of the key applications of information like this is tracking minor changes in topography resulting from natural phenomena like earthquakes.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/Inferometry.jpg" class="img-fluid figure-img" width="600"></p>
<figcaption class="figure-caption">Recordings of relative change in elevation around the epicentre of a 7.2 Magnitude Earthquake. Note that contours repeat every 9cm in elevation change - <span class="citation" data-cites="earthsciencedatasystems2020">Earth Science Data Systems (<a href="#ref-earthsciencedatasystems2020" role="doc-biblioref">2020</a>)</span></figcaption>
</figure>
</div>
</section>
</section>
<section id="applications-in-research" class="level2" data-number="9.2">
<h2 data-number="9.2" class="anchored" data-anchor-id="applications-in-research"><span class="header-section-number">9.2</span> <strong>Applications in Research</strong></h2>
<p>SAR data can be used in a number of dramatically different applications using its many different (and somewhat unrelated) properties. I will focus on two different use cases, one which takes advantage of backscatter measurements and one which uses changes in wave phase to measure topography changes.</p>
<p>[SECTION ON FLOODING DETECTION]</p>
<p>[EARTHQUAKE STUFF - Interferometry/InSAR]</p>
</section>
<section id="reflection" class="level2" data-number="9.3">
<h2 data-number="9.3" class="anchored" data-anchor-id="reflection"><span class="header-section-number">9.3</span> Reflection</h2>
<p>[UTILITY FOR OUR SPATIAL APPLIATIONS CLASS/PRESENTATION]</p>
</section>
<section id="references" class="level2" data-number="9.4">
<h2 data-number="9.4" class="anchored" data-anchor-id="references"><span class="header-section-number">9.4</span> References</h2>


<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-alaskasatellitefacility" class="csl-entry" role="listitem">
Alaska Satellite Facility. n.d. <span>“Introduction to SAR - HyP3.”</span> <a href="https://hyp3-docs.asf.alaska.edu/guides/introduction_to_sar/">https://hyp3-docs.asf.alaska.edu/guides/introduction_to_sar/</a>.
</div>
<div id="ref-clemente-colón2000" class="csl-entry" role="listitem">
Clemente-Colón, Pablo, and Xiao-Hai Yan. 2000. <span>“Low-Backscatter Ocean Features in Synthetic Aperture Radar Imagery.”</span> <em>Johns Hopkins APL Technical Digest (Applied Physics Laboratory)</em> 21 (January).
</div>
<div id="ref-earthsciencedatasystems2020" class="csl-entry" role="listitem">
Earth Science Data Systems, NASA. 2020. <span>“What Is Synthetic Aperture Radar? | Earthdata.”</span> <a href="https://www.earthdata.nasa.gov/learn/backgrounders/what-is-sar">https://www.earthdata.nasa.gov/learn/backgrounders/what-is-sar</a>.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./wk8.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Advanced Classification and Accuracy Assesment</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->



</body></html>